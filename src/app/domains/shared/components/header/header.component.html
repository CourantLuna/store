<nav class="bg-white border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">

    <!-- Logo + Links -->
    <div class="flex items-center space-x-8">
      <a href="https://flowbite.com/" class="flex items-center">
        <img
          src="https://flowbite.com/docs/images/logo.svg"
          class="h-6 mr-3"
          alt="Flowbite Logo"
        />
        <span class="self-center text-xl font-semibold whitespace-nowrap text-gray-800 dark:text-white">
          Flowbite
        </span>
      </a>

      <ul class="flex space-x-6 text-gray-700 dark:text-gray-300">
        <li>
          <a routerLink="/" class="block underline hover:underline">Home</a>
        </li>
        <li>
          <a routerLink="/about" class="block hover:underline">About</a>
        </li>
        <li>
          <a routerLink="/services" class="block hover:underline">Services</a>
        </li>
      </ul>
    </div>

    <!-- Icon / Cart Button -->
      <button class="relative px-4 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition cursor-pointer"
      type="button"
      (click)="toggleSidebar()"
      aria-label="Cart"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5
            14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3
            2.1-4.684 2.924-7.138a60.114 60.114 0
            00-16.536-1.84M7.5 14.25L5.106
            5.272M6 20.25a.75.75 0 11-1.5 0
            .75.75 0 011.5 0zm12.75 0a.75.75
            0 11-1.5 0 .75.75 0 011.5 0z"
          />
        </svg>
       @if (cartProducts().length>1) {
         <span class="sr-only">Notifications</span>
  <div class="absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-3 end-1 dark:border-gray-900">
    {{ cartProducts().length }}
  </div>
       }
      </button>



    </div>

</nav>


<!-- Sidebar -->
<div
  class="fixed border-l-1 border-l-gray-300 dark:border-l-gray-600 top-0 right-0 bg-red z-40 w-72 h-screen p-4 overflow-y-auto transition-transform bg-white dark:bg-gray-900 "
  [class.translate-x-full]="hideSidebar "
>
  <div class="flex justify-between items-center">
    <p class="text-xl text-gray-800 dark:text-white">My Cart</p>
    <button (click)="toggleSidebar() ">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6  text-gray-800 dark:text-white cursor-pointer"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>

    </button>
  </div>

  <div class="mt-6 ">
    <ul class="mt-4 space-y-4 max-h-[80vh] overflow-y-auto">
      <li *ngFor="let product of cartProducts()">
        <div class="flex items-center space-x-4 border-b border-gray-200 dark:border-gray-700 pb-4">
          <img [src]="product.images?.[0]"  alt="{{ product.title }}" class="w-12 h-12 rounded-md" />
          <div>
            <h4 class="text-sm font-semibold text-gray-800 dark:text-white">{{ product.title }}</h4>
            <p class="text-xs text-gray-600 dark:text-gray-400">{{ product.price | currency }}</p>
          </div>
        </div>
      </li>
    </ul>

    <div class="mt-4 fixed">
      <p class="text-sm font-semibold text-gray-800 dark:text-white">Total: {{ total() | currency }}</p>
    </div>
  </div>
</div>
